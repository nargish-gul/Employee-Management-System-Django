{% extends 'base.html' %}
{% block content %}

<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">

<h2>Payroll Records</h2>
<a href="{% url 'payroll_add' %}" class="btn btn-primary">+Add Payroll</a>
    </div>

<table class="table table-bordered" border="1" cellpadding="10">
    <thead class="table-dark">
    <tr>
        <th>#</th>
        <th>Employee</th>
        <th>Basic Salary</th>
        <th>Allowances</th>
        <th>Deductions</th>
        <th>Net Salary</th>
        <th>Date</th>
        <th>Actions</th>
    </tr>
    </thead>

    {% for pay in payrolls %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ pay.employee }}</td>
        <td>{{ pay.basic_salary }}</td>
        <td>{{ pay.allowances }}</td>
        <td>{{ pay.deductions }}</td>
        <td>{{ pay.net_salary }}</td>
        <td>{{ pay.date }}</td>
        <td>
    

              <a href="{% url 'payroll_edit' pay.id %}" 
                               class="btn btn-warning btn-sm px-3">Edit</a>
                            <a href="{% url 'payroll_delete' pay.id %}" 
                               onclick="return confirm('Delete payroll?')" 
                               class="btn btn-danger btn-sm px-3">
                               Delete
                            </a>
            
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="8">No Payroll Records Found</td>
    </tr>
    {% endfor %}

</table>
</div>

{% endblock %}
